<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Guitar Fretboard Flashcard Game</title>
    <script src="./vendor/jquery.min.js"></script>
    <script src="./vendor/vexflow.js"></script>
    <link rel="stylesheet" href="./main.css" />
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  </head>
  <body>
    <div class="container">
      <div id="sound-banner" class="sound-enable-banner">üîä Click here to enable sound</div>
      <div id="tts-banner" class="tts-enable-banner" style="display: none;">üé§ Click here to enable voice hints</div>
      <div class="flashcard">
        <div class="flashcard-instruction">Find the note</div>
        <div class="note-row">
          <button class="quiz-note-btn" id="quiz-note-btn" title="Play this note">
            ?
            <span class="note-meter" id="note-meter" aria-hidden="true">
              <span class="note-meter-fill" id="note-meter-fill" style="width: 0"></span>
            </span>
          </button>
          <div class="string" id="flashcard-string">?</div>
          <div id="note-score">
            <div id="treble-score"></div>
            <div id="bass-score"></div>
          </div>
        </div>
        <div class="fretboard-area" id="fretboard-area"></div>
        <div class="countdown-row">
          <span class="countdown-inline" id="countdown"></span>
          <button class="countdown-skip" id="skip-countdown" title="Skip to next quiz">‚è≠Ô∏è</button>
        </div>
      </div>
      <div class="fret-buttons" id="fret-buttons"></div>
      <div id="mic-controls">
        <button id="mic-toggle">üé§ Enable Mic</button>
        <span id="mic-status" style="display: none"></span>
        <span id="mic-meter" style="display: none">
          <span id="mic-meter-fill"></span>
        </span>
        <span id="mic-feedback" style="display: none"></span>
      </div>
      <div class="options">
        <div class="config">
          <label for="fret-count">Number of frets:</label>
          <select id="fret-count">
            <option value="11">12 (0-11)</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="24">24</option>
          </select>
        </div>
        <label>
          <input type="checkbox" id="accidentals" />
          Include accidentals: sharps (‚ôØ) and flats (‚ô≠)
        </label>
        <label>
          <input type="checkbox" id="enable-bias" />
          Bias towards strings with mistakes
        </label>
        <label>
          <input type="checkbox" id="show-score-notation" />
          Show score notation
        </label>
        <label>
          <input type="checkbox" id="enable-tts" />
          Voice hints
        </label>
        <div id="voice-selection" style="display: none; margin-left: 20px; margin-top: 5px;">
          <label for="voice-select" style="font-size: 0.9em;">Voice:</label>
          <select id="voice-select" style="margin-left: 5px;">
            <option value="">Default</option>
          </select>
        </div>
        <label id="hide-quiz-note-label" style="display: none">
          <input type="checkbox" id="hide-quiz-note" />
          Hide the quiz note
        </label>
        <div class="config">
          <table class="config-table">
            <tr>
              <td>
                <label for="timeout-seconds">Next question after (seconds):</label>
                <select id="timeout-seconds">
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2" selected>2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </td>
            </tr>
            <tr id="score-key-row" style="display: none">
              <td>
                <label for="score-key">Score key:</label>
                <select id="score-key">
                  <option value="C">C maj / A min</option>
                  <option value="G">G maj / E min (1‚ôØ)</option>
                  <option value="D">D maj / B min (2‚ôØ)</option>
                  <option value="A">A maj / F‚ôØ min (3‚ôØ)</option>
                  <option value="E">E maj / C‚ôØ min (4‚ôØ)</option>
                  <option value="B">B maj / G‚ôØ min (5‚ôØ)</option>
                  <option value="F#">F‚ôØ maj / D‚ôØ min (6‚ôØ)</option>
                  <option value="C#">C‚ôØ maj / A‚ôØ min (7‚ôØ)</option>
                  <option value="F">F maj / D min (1‚ô≠)</option>
                  <option value="Bb">B‚ô≠ maj / G min (2‚ô≠)</option>
                  <option value="Eb">E‚ô≠ maj / C min (3‚ô≠)</option>
                  <option value="Ab">A‚ô≠ maj / F min (4‚ô≠)</option>
                  <option value="Db">D‚ô≠ maj / B‚ô≠ min (5‚ô≠)</option>
                  <option value="Gb">G‚ô≠ maj / E‚ô≠ min (6‚ô≠)</option>
                  <option value="Cb">C‚ô≠ maj / A‚ô≠ min (7‚ô≠)</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>
                <label for="num-strings">Number of strings:</label>
                <select id="num-strings">
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6" selected>6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <!-- <option value="11">11</option>
                  <option value="12">12</option> -->
                </select>
              </td>
            </tr>
            <tr id="tuning-config">
              <td>
                <!-- Dynamically populated with tuning table -->
              </td>
            </tr>
            <tr>
              <td>
                <button id="reset-tuning">Reset to Standard Tuning</button>
              </td>
            </tr>
            <tr>
              <td>
                <button id="reset-stats">Reset stats (0)</button>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="small-comment-text">
        Inspired by Steve Vai's anecdote about the first homework given to him by Joe Satriani:
        <a href="https://youtu.be/_1bkZIDuGBU?si=AOAwiFfu-qS5-NUp&t=1237">"learn all notes on the neck"</a>
        . I wish I had this app 30 years ago!
      </div>
      <div class="small-comment-text">This is a browser app. Nothing is sent to the server for processing or analytics by the app itself.</div>
      <div id="tts-unavailable" style="display: none; font-size: 0.85em; color: #666; font-style: italic">
        Text-to-speech is not available in Chrome on macOS due to known audio issues. Try Safari or Firefox for TTS support.
      </div>
    </div>
    <div id="build-info"></div>
    <div class="copyright">
      Copyright &copy; 2025 GitHub copilot and Dmitry Ledentsov |
      <a href="https://github.com/d-led/fret-flashcards" target="_blank">GitHub</a>
    </div>
    <script src="./index.js"></script>
  </body>
</html>
